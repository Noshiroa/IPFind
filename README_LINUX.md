# IPFind - Linux ç‰ˆæœ¬

## é¡¹ç›®æ¦‚è¿°

IPFind æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„ç½‘ç»œè¿æ¥IPå¨èƒæƒ…æŠ¥åˆ†æå·¥å…·ï¼Œä¸“é—¨ä¸ºLinuxç³»ç»Ÿä¼˜åŒ–ã€‚è¯¥å·¥å…·èƒ½å¤Ÿè‡ªåŠ¨æå–ç³»ç»Ÿç½‘ç»œè¿æ¥ä¸­çš„å¤–éƒ¨IPåœ°å€ï¼Œå¹¶é€šè¿‡VirusTotal APIè¿›è¡Œæ‰¹é‡å¨èƒæƒ…æŠ¥æŸ¥è¯¢ã€‚

## ç³»ç»Ÿè¦æ±‚

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ
- **Ubuntu** 18.04+
- **Debian** 10+
- **CentOS** 7+
- **RHEL** 8+
- **Fedora** 30+
- **Arch Linux**
- å…¶ä»–åŸºäºsystemdçš„Linuxå‘è¡Œç‰ˆ

### è½¯ä»¶è¦æ±‚
- **Python** 3.8+
- **ç½‘ç»œå·¥å…·**: `ss` æˆ– `netstat`
- **ä¾èµ–åŒ…**: è¯¦è§ requirements.txt

## å¿«é€Ÿå¼€å§‹

### 1. è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥IPFindç›®å½•
cd scripts/IPFind

# è¿è¡Œå®‰è£…è„šæœ¬
chmod +x install_linux.sh
./install_linux.sh
```

### 2. æ‰‹åŠ¨å®‰è£…

```bash
# å®‰è£…ç³»ç»Ÿä¾èµ–
# Ubuntu/Debian:
sudo apt update
sudo apt install python3-pip python3-venv net-tools

# CentOS/RHEL:
sudo yum install python3-pip python3-venv net-tools

# å®‰è£…Pythonä¾èµ–
pip3 install -r requirements.txt

# è®¾ç½®æ‰§è¡Œæƒé™
chmod +x ipfind_cli.py
```

### 3. è®¾ç½®APIå¯†é’¥

é¦–æ¬¡ä½¿ç”¨éœ€è¦è®¾ç½®VirusTotal APIå¯†é’¥ï¼š

```bash
# è·å–å…è´¹APIå¯†é’¥ï¼šhttps://www.virustotal.com/gui/join-us

# è®¾ç½®APIå¯†é’¥
python3 ipfind_cli.py --set-api-key YOUR_API_KEY

# æˆ–ä½¿ç”¨å®‰è£…åçš„å‘½ä»¤
ipfind --set-api-key YOUR_API_KEY
```

## ä½¿ç”¨æ–¹æ³•

### å›¾å½¢ç•Œé¢ç‰ˆæœ¬

```bash
python3 ipfind_app.py
```

### å‘½ä»¤è¡Œç‰ˆæœ¬

#### è‡ªåŠ¨åˆ†æç½‘ç»œè¿æ¥
```bash
ipfind --auto
```

#### ä»æ–‡ä»¶åˆ†æIPåœ°å€
```bash
ipfind --input ips.txt
```

#### æ‰‹åŠ¨åˆ†ææŒ‡å®šIP
```bash
ipfind --ips "8.8.8.8,1.1.1.1,192.168.1.1"
```

#### æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
```bash
ipfind --auto --verbose
```

#### æ£€æŸ¥APIå¯†é’¥çŠ¶æ€
```bash
ipfind --check-api-key
```

### å®Œæ•´å‘½ä»¤è¡Œå¸®åŠ©

```bash
ipfind --help
```

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ ¸å¿ƒåŠŸèƒ½
- **è·¨å¹³å°IPæå–**: è‡ªåŠ¨é€‚é…Linuxç³»ç»Ÿçš„ç½‘ç»œå·¥å…·ï¼ˆss/netstatï¼‰
- **æ™ºèƒ½IPç­›é€‰**: è‡ªåŠ¨è¿‡æ»¤æœ¬åœ°IPåœ°å€ï¼Œä¸“æ³¨äºå¤–éƒ¨è¿æ¥åˆ†æ
- **å¨èƒæƒ…æŠ¥æŸ¥è¯¢**: é›†æˆVirusTotal API v3ï¼Œè·å–å…¨é¢çš„å¨èƒåˆ†ææ•°æ®
- **å¤šç§åˆ†ææ¨¡å¼**: æ”¯æŒè‡ªåŠ¨æå–ã€æ–‡ä»¶è¾“å…¥ã€æ‰‹åŠ¨è¾“å…¥ä¸‰ç§æ¨¡å¼

### ğŸ›¡ï¸ å®‰å…¨åˆ†æ
- **å¨èƒç­‰çº§è¯„ä¼°**: æ ¹æ®æ¶æ„æ£€æµ‹æ•°é‡è‡ªåŠ¨åˆ†çº§
- **å¤šç»´åº¦åˆ†æ**: åŒ…å«æ¶æ„æ£€æµ‹æ•°ã€å¯ç–‘æ£€æµ‹æ•°ã€æ— å®³æ£€æµ‹æ•°ç­‰
- **åœ°ç†ä½ç½®ä¿¡æ¯**: æ˜¾ç¤ºIPåœ°å€çš„åœ°ç†ä½ç½®å’Œç½‘ç»œè¿è¥å•†ä¿¡æ¯
- **å†å²åˆ†ææ•°æ®**: åŒ…å«æœ€ååˆ†ææ—¶é—´å’Œè®°å½•åˆ›å»ºæ—¶é—´

### ğŸ“Š è¾“å‡ºæ ¼å¼
- **CSVæ ¼å¼**: ä¾¿äºå¯¼å…¥Excelæˆ–å…¶ä»–åˆ†æå·¥å…·
- **å½©è‰²ç»ˆç«¯è¾“å‡º**: ç›´è§‚æ˜¾ç¤ºå¨èƒç­‰çº§
- **è¯¦ç»†æ—¥å¿—**: å®Œæ•´çš„æ“ä½œè®°å½•å’Œé”™è¯¯è·Ÿè¸ª

## æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶
- `ipfind_app.py` - å›¾å½¢ç•Œé¢ä¸»ç¨‹åº
- `ipfind_cli.py` - å‘½ä»¤è¡Œç‰ˆæœ¬ä¸»ç¨‹åº
- `ip_extractor.py` - è·¨å¹³å°IPæå–æ¨¡å—
- `ip_analysis.py` - VirusTotal APIæŸ¥è¯¢æ¨¡å—
- `config_manager.py` - é…ç½®ç®¡ç†æ¨¡å—
- `logger.py` - æ—¥å¿—ç®¡ç†æ¨¡å—

### ç”Ÿæˆæ–‡ä»¶
- `config.json` - é…ç½®æ–‡ä»¶ï¼ˆåŒ…å«APIå¯†é’¥ï¼‰
- `ips.txt` - æå–çš„IPåœ°å€åˆ—è¡¨
- `output.csv` - åˆ†æç»“æœCSVæ–‡ä»¶
- `logs/ipfind.log` - æ—¥å¿—æ–‡ä»¶

## æŠ€æœ¯ç»†èŠ‚

### ç½‘ç»œè¿æ¥æå–
Linuxç‰ˆæœ¬ä½¿ç”¨ `ss` å‘½ä»¤ï¼ˆä¼˜å…ˆï¼‰æˆ– `netstat` å‘½ä»¤æ¥è·å–ç½‘ç»œè¿æ¥ä¿¡æ¯ï¼š

```bash
# ä½¿ç”¨ ss å‘½ä»¤ï¼ˆæ¨èï¼‰
ss -tun

# ä½¿ç”¨ netstat å‘½ä»¤ï¼ˆå¤‡é€‰ï¼‰
netstat -tun
```

### APIé™åˆ¶å¤„ç†
- **å…è´¹è´¦æˆ·**: 4æ¬¡/åˆ†é’Ÿï¼Œ500æ¬¡/å¤©
- **è‡ªåŠ¨å»¶è¿Ÿ**: æ¯ä¸ªè¯·æ±‚é—´éš”15ç§’ï¼Œé¿å…è§¦å‘é™åˆ¶
- **é”™è¯¯å¤„ç†**: è‡ªåŠ¨å¤„ç†429ï¼ˆé¢åº¦ä¸è¶³ï¼‰ç­‰é”™è¯¯

### å¨èƒç­‰çº§å®šä¹‰

| ç­‰çº§ | å›¾æ ‡ | æ¶æ„æ£€æµ‹æ•° | è¯´æ˜ |
|------|------|------------|------|
| å®‰å…¨ | ğŸŸ¢ | 0 | æœªå‘ç°æ¶æ„è¡Œä¸º |
| ä½å± | ğŸŸ  | 1-2 | å°‘é‡æ¶æ„æ£€æµ‹ |
| ä¸­å± | ğŸŸ¡ | 3-9 | ä¸­ç­‰æ¶æ„æ£€æµ‹ |
| é«˜å± | ğŸ”´ | â‰¥10 | å¤§é‡æ¶æ„æ£€æµ‹ |

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æƒé™é—®é¢˜
```bash
# ç¡®ä¿æœ‰æƒé™æ‰§è¡Œç½‘ç»œå‘½ä»¤
sudo ipfind --auto

# æˆ–å°†ç”¨æˆ·æ·»åŠ åˆ°ç›¸å…³ç»„
sudo usermod -a -G network $USER
```

#### 2. ç½‘ç»œå·¥å…·ä¸å¯ç”¨
```bash
# å®‰è£…ç½‘ç»œå·¥å…·
sudo apt install net-tools  # Ubuntu/Debian
sudo yum install net-tools  # CentOS/RHEL
```

#### 3. Pythonä¾èµ–é—®é¢˜
```bash
# é‡æ–°å®‰è£…ä¾èµ–
pip3 install --upgrade -r requirements.txt

# æˆ–ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate
pip3 install -r requirements.txt
```

#### 4. APIå¯†é’¥æ— æ•ˆ
```bash
# é‡æ–°è®¾ç½®APIå¯†é’¥
ipfind --set-api-key NEW_API_KEY

# æ£€æŸ¥å¯†é’¥çŠ¶æ€
ipfind --check-api-key
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/ipfind.log

# æˆ–ä½¿ç”¨è¯¦ç»†æ¨¡å¼è¿è¡Œ
ipfind --auto --verbose
```

## é«˜çº§ç”¨æ³•

### å®šæ—¶ä»»åŠ¡åˆ†æ
```bash
# æ¯å¤©å®šæ—¶åˆ†æç½‘ç»œè¿æ¥
0 2 * * * /usr/local/bin/ipfind --auto --output /var/log/ipfind/daily_$(date +\%Y\%m\%d).csv
```

### é›†æˆåˆ°ç›‘æ§ç³»ç»Ÿ
```bash
# åªåˆ†æé«˜å±IPå¹¶å‘é€è­¦æŠ¥
ipfind --auto | grep "é«˜å±" | mail -s "å‘ç°é«˜å±IP" admin@example.com
```

### æ‰¹é‡å¤„ç†IPåˆ—è¡¨
```bash
# ä»å¤šä¸ªæ–‡ä»¶åˆ†æ
for file in ip_lists/*.txt; do
    ipfind --input "$file" --output "results/$(basename "$file" .txt).csv"
done
```

## å¼€å‘è¯´æ˜

### ä»£ç ç»“æ„
```
IPFind/
â”œâ”€â”€ ipfind_app.py          # å›¾å½¢ç•Œé¢ä¸»ç¨‹åº
â”œâ”€â”€ ipfind_cli.py          # å‘½ä»¤è¡Œä¸»ç¨‹åº
â”œâ”€â”€ ip_extractor.py        # è·¨å¹³å°IPæå–
â”œâ”€â”€ ip_analysis.py         # å¨èƒåˆ†ææ¨¡å—
â”œâ”€â”€ config_manager.py      # é…ç½®ç®¡ç†
â”œâ”€â”€ logger.py              # æ—¥å¿—ç®¡ç†
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ install_linux.sh       # Linuxå®‰è£…è„šæœ¬
â””â”€â”€ README_LINUX.md        # Linuxä¸“ç”¨æ–‡æ¡£
```

### æ‰©å±•å¼€å‘
- æ”¯æŒæ·»åŠ å…¶ä»–å¨èƒæƒ…æŠ¥æº
- å¯æ‰©å±•ä¸ºå®æ—¶ç›‘æ§å·¥å…·
- æ”¯æŒå¯¼å‡ºæŠ¥å‘Šå’Œå›¾è¡¨

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## å…è´£å£°æ˜

æœ¬å·¥å…·ä»…ç”¨äºæ•™è‚²å’Œå®‰å…¨ç ”ç©¶ç›®çš„ã€‚ä½¿ç”¨è€…åº”éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬å·¥å…·é€ æˆçš„ä»»ä½•åæœè´Ÿè´£ã€‚

---

**æ³¨æ„**: ä½¿ç”¨ VirusTotal API éœ€è¦éµå®ˆå…¶æœåŠ¡æ¡æ¬¾å’Œä½¿ç”¨é™åˆ¶ã€‚è¯·åˆç†ä½¿ç”¨APIèµ„æºï¼Œé¿å…è§¦å‘é™åˆ¶ã€‚